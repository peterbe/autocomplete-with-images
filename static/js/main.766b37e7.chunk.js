(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},7:function(e,t,n){e.exports=n(8)},8:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),l=n(5),c=n(1),o=n(0),s=n.n(o),u=n(6),i=n.n(u),m=n(3),h=n.n(m),f=(n(16),"/autocomplete-with-images/static/lazyload-thumbnail.png");function d(e){var t=e.results,n=e.count,a=e.search;return t?s.a.createElement("div",{className:"suggestions"},s.a.createElement("p",{className:"meta"},"Found ",n.toLocaleString(),n>t.length&&", only showing first ".concat(t.length)),t.map(function(e){var t="https://picsum.photos/1000/1000?image=".concat(e.id);return s.a.createElement("div",{key:e.id},s.a.createElement("p",null,s.a.createElement(g,{url:t,alt:e.filename}),s.a.createElement("b",null,s.a.createElement(h.a,{searchWords:[a],textToHighlight:e.author}))),s.a.createElement("p",null,s.a.createElement("code",null,s.a.createElement(h.a,{searchWords:[a],textToHighlight:e.filename})),s.a.createElement("br",null),s.a.createElement("small",null,e.width,"x",e.height," (",e.format,")"),s.a.createElement("br",null),s.a.createElement("code",null,t)))})):null}var p=new Set;(new Image).src=f;var g=s.a.memo(function(e){var t=e.url,n=e.alt,a=Object(o.useState)(p.has(t)?t:f),r=Object(c.a)(a,2),l=r[0],u=r[1],i=null,m=!1;return Object(o.useEffect)(function(){if(l===f){var e=function(){if(m||u(t),p.has(t))throw new Error("".concat(t," has already been loaded once!"));p.add(t)};(i=new Image).src=t,i.decode?i.decode().then(e):i.onload=e,i.decoding="sync"}return function(){i&&(i.src=""),m=!0}},[]),s.a.createElement("img",{src:l,alt:n})}),E=document.getElementById("root");i.a.render(s.a.createElement(function(){var e=Object(o.useState)(null),t=Object(c.a)(e,2),n=t[0],a=t[1],u=Object(o.useState)(0),i=Object(c.a)(u,2),m=i[0],h=i[1],f=Object(o.useState)(""),p=Object(c.a)(f,2),g=p[0],E=p[1],b=Object(o.useState)(JSON.parse(sessionStorage.getItem("allPictures")||"null")),w=Object(c.a)(b,2),v=w[0],O=w[1];return Object(o.useEffect)(function(){v||function(){var e=Object(l.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,O(a),sessionStorage.setItem("allPictures",JSON.stringify(a));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()("https://picsum.photos/list")},[v]),Object(o.useEffect)(function(){if(!g.trim())return a(null);var e=g.toLowerCase(),t=v.filter(function(t){return t.author.toLowerCase().includes(e)||e.length>2&&t.filename.includes(g)});h(t.length),a(t.slice(0,10))},[g]),s.a.createElement("div",{className:"App"},s.a.createElement("h1",null,s.a.createElement("input",{type:"text",placeholder:"Type your search here...",value:g,onChange:function(e){return E(e.target.value)}})),s.a.createElement(d,{search:g,results:n,count:m}),s.a.createElement("hr",null),s.a.createElement("p",null,s.a.createElement("small",null,null===v?"Downloading list of pictures...":"Downloaded list of ".concat(v.length.toLocaleString()," pictures"))))},null),E)}},[[7,1,2]]]);
//# sourceMappingURL=main.766b37e7.chunk.js.map